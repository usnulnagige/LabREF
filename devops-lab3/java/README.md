# Приложение на Java

# Структура
`src/` - исходный код приложения

`pom.xml` - файл описания проекта, поддерживаемого Maven. Содержит ряд информации, в том числе и зависимости.

## Ход работы
### Обычная сборка
В данной директории создайте файл `plain.Dockerfile`, в котором:
1. В качестве базового образа укажите `maven:3.8.5-openjdk-17-slim`
2. Задайте рабочую директорию `/app`
3. Скопируйте `pom.xml` и `src/` в рабочую директорию
4. Выполните команду `mvn clean package -DskipTests` для сборки приложения в jar-файл. После этого в каталоге `/app/target/` появится jar-файл
5. Скопируйте этот файл в рабочий каталог: `cp /app/target/*.jar app.jar`
6. Укажите точку входа в приложение с аргументами `java`, `-jar`, `app.jar`

Собирите образ с именем `javaApp` и тегом `huge`.

### Multi-stage сборка
Создайте файл `multi-stage.Dockerfile`, в котором:
- На стадии сборки:
1. В качестве базового образа укажите `maven:3.8.5-openjdk-17-slim`, как 'build' 
2. Задайте рабочую директорию `/app`
3. Скопируйте `pom.xml` и `src/` в рабочую директорию
4. Выполните команду `mvn clean package -DskipTests`
- На стадии запуска:
1. В качестве базового образа укажите `eclipse-temurin:17.0.14_7-jre-jammy`
2. Задайте рабочую директорию `/app`
3. Скопируйте собранное приложение из стадии 'build' в рабочую директорию
4. Укажите точку входа в приложение с аргументами `java`, `-jar`, `app.jar`

Собирите образ с именем `javaApp` и тегом `slim`.

Сравните размеры полученных образов.